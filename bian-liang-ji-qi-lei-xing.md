# ğŸ˜… å˜é‡åŠå…¶ç±»å‹

å˜é‡åœ¨ä½¿ç”¨å‰å¿…é¡»å…ˆ"å®šä¹‰"ã€‚è¦æ³¨æ„å˜é‡åçš„å‘½åè§„åˆ™ã€‚

å¦‚æœæ”¹å˜å˜é‡çš„æ•°æ®ç±»å‹ï¼Œå°†é‡æ–°åˆ†é…å†…å­˜ç©ºé—´ã€‚

åƒPythonè¿™ç§å˜é‡æœ¬èº«ç±»å‹ä¸å›ºå®šçš„è¯­è¨€ç§°ä¹‹ä¸º_åŠ¨æ€è¯­è¨€_ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯_é™æ€è¯­è¨€_ã€‚

åœ¨äº¤äº’æ¨¡å¼ä¸­ï¼Œæœ€åè¢«è¾“å‡ºçš„è¡¨è¾¾å¼ç»“æœè¢«èµ‹å€¼ç»™å˜é‡ **\_** ã€‚

å¯ä»¥é€šè¿‡ä½¿ç”¨`del`è¯­å¥åˆ é™¤å•ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä¾‹å¦‚

```python
del var_a, var_b
```

## å˜é‡ä½œç”¨åŸŸ

æ‰€è°“ä½œç”¨åŸŸï¼ˆScopeï¼‰ï¼Œå°±æ˜¯å˜é‡çš„æœ‰æ•ˆèŒƒå›´ï¼Œå³å˜é‡å¯ä»¥åœ¨å“ªä¸ªèŒƒå›´ä»¥å†…ä½¿ç”¨ã€‚æœ‰äº›å˜é‡å¯ä»¥åœ¨æ•´æ®µä»£ç çš„ä»»æ„ä½ç½®ä½¿ç”¨ï¼Œæœ‰äº›å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œæœ‰äº›å˜é‡åªèƒ½åœ¨ for å¾ªç¯å†…éƒ¨ä½¿ç”¨ã€‚

### å±€éƒ¨å˜é‡

åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œå®ƒçš„ä½œç”¨åŸŸä¹Ÿä»…é™äºå‡½æ•°å†…éƒ¨ï¼Œå‡ºäº†å‡½æ•°å°±ä¸èƒ½ä½¿ç”¨äº†ï¼Œæˆ‘ä»¬å°†è¿™æ ·çš„å˜é‡ç§°ä¸ºå±€éƒ¨å˜é‡ï¼ˆLocal Variableï¼‰ã€‚

è¦çŸ¥é“ï¼Œå½“å‡½æ•°è¢«æ‰§è¡Œæ—¶ï¼ŒPython ä¼šä¸ºå…¶åˆ†é…ä¸€å—ä¸´æ—¶çš„å­˜å‚¨ç©ºé—´ï¼Œæ‰€æœ‰åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œéƒ½ä¼šå­˜å‚¨åœ¨è¿™å—ç©ºé—´ä¸­ã€‚è€Œåœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œè¿™å—ä¸´æ—¶å­˜å‚¨ç©ºé—´éšå³ä¼šè¢«é‡Šæ”¾å¹¶å›æ”¶ï¼Œè¯¥ç©ºé—´ä¸­å­˜å‚¨çš„å˜é‡è‡ªç„¶ä¹Ÿå°±æ— æ³•å†è¢«ä½¿ç”¨ã€‚

å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå‡½æ•°çš„å‚æ•°ä¹Ÿå±äºå±€éƒ¨å˜é‡ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚

### å…¨å±€å˜é‡

é™¤äº†åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å˜é‡ï¼ŒPython è¿˜å…è®¸åœ¨æ‰€æœ‰å‡½æ•°çš„å¤–éƒ¨å®šä¹‰å˜é‡ï¼Œè¿™æ ·çš„å˜é‡ç§°ä¸ºå…¨å±€å˜é‡ï¼ˆGlobal Variableï¼‰ã€‚

å’Œå±€éƒ¨å˜é‡ä¸åŒï¼Œå…¨å±€å˜é‡çš„é»˜è®¤ä½œç”¨åŸŸæ˜¯æ•´ä¸ªç¨‹åºï¼Œå³å…¨å±€å˜é‡æ—¢å¯ä»¥åœ¨å„ä¸ªå‡½æ•°çš„å¤–éƒ¨ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨å„å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚

å®šä¹‰å…¨å±€å˜é‡çš„æ–¹å¼æœ‰ä»¥ä¸‹ 2 ç§ï¼š

* åœ¨å‡½æ•°ä½“å¤–å®šä¹‰çš„å˜é‡ï¼Œä¸€å®šæ˜¯å…¨å±€å˜é‡
* åœ¨å‡½æ•°ä½“å†…å®šä¹‰å…¨å±€å˜é‡ã€‚å³ä½¿ç”¨ `global` å…³é”®å­—å¯¹å˜é‡è¿›è¡Œä¿®é¥°åï¼Œè¯¥å˜é‡å°±ä¼šå˜ä¸ºå…¨å±€å˜é‡ã€‚

{% hint style="warning" %}
æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ global å…³é”®å­—ä¿®é¥°å˜é‡åæ—¶ï¼Œä¸èƒ½ç›´æ¥ç»™å˜é‡èµ‹åˆå€¼ï¼Œå¦åˆ™ä¼šå¼•å‘è¯­æ³•é”™è¯¯ã€‚
{% endhint %}

### nonlocal

[`nonlocal`](https://docs.python.org/zh-cn/3/reference/simple\_stmts.html#nonlocal) è¯­å¥ä¼šä½¿å¾—ç›¸åº”çš„åç§°æŒ‡å‘ä¹‹å‰åœ¨æœ€è¿‘åŒ…å«å‡½æ•°ä½œç”¨åŸŸä¸­ç»‘å®šçš„å˜é‡ã€‚ å¦‚æœæŒ‡å®šåç§°ä¸å­˜åœ¨äºä»»ä½•åŒ…å«å‡½æ•°ä½œç”¨åŸŸä¸­åˆ™å°†åœ¨ç¼–è¯‘æ—¶å¼•å‘ [`SyntaxError`](https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError)ã€‚

```python
def myfunc1():
  x = "Bill"
  def myfunc2():
    nonlocal x
    x = "hello"
  myfunc2() 
  return x

print(myfunc1())
```

## å•ä¸‹åˆ’çº¿å˜é‡`_`

ä¸‹åˆ’çº¿`_`åœ¨[Python](http://www.javaxxz.com/thread-368216-1-1.html)ä¸­è¢«è§†ä¸ºâ€œ **æˆ‘ä¸åœ¨ä¹** â€æˆ–â€œ **æŠ›å‡º** â€å˜é‡

* **pythonè§£é‡Šå™¨å°†æœ€åä¸€ä¸ªè¡¨è¾¾å¼å€¼å­˜å‚¨åˆ°åä¸º`_`çš„ç‰¹æ®Šå˜é‡ä¸­ã€‚**

```python
>>> 114514
114514
>>> _
114514
```

* **åˆ’çº¿`_`ä¹Ÿç”¨äºå¿½ç•¥ç‰¹å®šå€¼ã€‚** **å¦‚æœä¸éœ€è¦ç‰¹å®šå€¼æˆ–ä¸ä½¿ç”¨è¿™äº›å€¼ï¼Œåªéœ€å°†è¿™äº›å€¼åˆ†é…ç»™ä¸‹åˆ’çº¿å³å¯ã€‚**

```python
x, _, y = (1, 2, 3) 
>>> x 
1 
>>> y 
3
```

```python
for _ in range(10): do_something()
```

## å¯å˜å¯¹è±¡ & ä¸å¯å˜å¯¹è±¡

å¯å˜å¯¹è±¡å¯ä»¥åœ¨å…¶ id() ä¿æŒå›ºå®šçš„æƒ…å†µä¸‹æ”¹å˜å…¶å–å€¼ã€‚

ä¸å¯å˜å¯¹è±¡åˆ™æ­£ç›¸åï¼Œæ˜¯å…·æœ‰å›ºå®šå€¼çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²å’Œå…ƒç»„ã€‚è¿™æ ·çš„å¯¹è±¡ä¸èƒ½è¢«æ”¹å˜ã€‚å¦‚æœå¿…é¡»å­˜å‚¨ä¸€ä¸ªä¸åŒçš„å€¼ï¼Œåˆ™å¿…é¡»åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚å®ƒä»¬åœ¨éœ€è¦å¸¸é‡å“ˆå¸Œå€¼çš„åœ°æ–¹èµ·ç€é‡è¦ä½œç”¨ï¼Œä¾‹å¦‚ä½œä¸ºå­—å…¸ä¸­çš„é”®ã€‚

## å¯å“ˆå¸Œ & ä¸å¯å“ˆå¸Œ

ä¸€ä¸ªå¯¹è±¡çš„å“ˆå¸Œå€¼å¦‚æœåœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…**ç»ä¸æ”¹å˜**ï¼Œå°±è¢«ç§°ä¸ºå¯å“ˆå¸Œ ï¼ˆå®ƒéœ€è¦å…·æœ‰ **hash**() æ–¹æ³•ï¼‰ï¼Œå¹¶å¯ä»¥åŒå…¶ä»–å¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼ˆå®ƒéœ€è¦å…·æœ‰ **eq**() æ–¹æ³•ï¼‰ã€‚

å¯å“ˆå¸Œå¯¹è±¡å¿…é¡»å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼æ¯”è¾ƒç»“æœæ‰ä¼šç›¸åŒã€‚ä¸€ä¸ªå¯¹è±¡çš„å“ˆå¸Œå€¼åœ¨ç”Ÿå‘½å‘¨æœŸå†…ä¸æ”¹å˜ï¼Œå°±ç§°ä¸ºå¯å“ˆå¸Œã€‚

å¯å“ˆå¸Œæ€§ä½¿å¾—å¯¹è±¡èƒ½å¤Ÿä½œä¸ºå­—å…¸é”®æˆ–é›†åˆæˆå‘˜ä½¿ç”¨ï¼Œå› ä¸ºè¿™äº›æ•°æ®ç»“æ„è¦åœ¨å†…éƒ¨ä½¿ç”¨å“ˆå¸Œå€¼ã€‚ å¯å˜å®¹å™¨ï¼ˆä¾‹å¦‚åˆ—è¡¨æˆ–å­—å…¸ï¼‰éƒ½ä¸å¯å“ˆå¸Œã€‚åªæœ‰å¯å“ˆå¸Œå¯¹è±¡æ‰èƒ½ä½œä¸ºå­—å…¸çš„é”®ã€‚

## æ•°å­—

ä¸åŒç±»å‹çš„æ•°æ··åˆè¿ç®—æ—¶ä¼šå°†æ•´æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚

### **æ•´æ•°**

å¸ƒå°”(bool)æ˜¯æ•´å‹çš„å­ç±»å‹ã€‚Python3 æ•´å‹æ˜¯æ²¡æœ‰é™åˆ¶å¤§å°çš„ï¼Œå¯ä»¥å½“ä½œ Long ç±»å‹ä½¿ç”¨ã€‚

å¯ä»¥åœ¨æ•°å­—å‰åŠ å‰ç¼€`0x`è¡¨ç¤º16è¿›åˆ¶æ•°ï¼Œ`0o`è¡¨ç¤º8è¿›åˆ¶æ•°ã€‚

Python3.6å…è®¸åœ¨æ•°å­—ä¸­é—´ä»¥`_`åˆ†éš”ï¼Œå› æ­¤ï¼Œå†™æˆ`10_000_000_000`å’Œ`10000000000`æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚åå…­è¿›åˆ¶æ•°ä¹Ÿå¯ä»¥å†™æˆ`0xa1b2_c3d4`ã€‚

### **æµ®ç‚¹æ•°**

å¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼Œå¦‚

$$
3Ã—10^8
$$

å¯ä»¥å†™ä½œ`3e8`ã€‚

æŒ‡æ•°å¿…é¡»ä¸ºæ•´æ•°ï¼ŒåŸºæ•°å¯ä»¥æ˜¯æ•´æ•°ã€‚

0.4å¯ä»¥å†™ä½œ.4ï¼Œ4.0å¯ä»¥å†™ä½œ4.

### **å¤æ•°**

ç”±å®æ•°éƒ¨åˆ†å’Œè™šæ•°éƒ¨åˆ†æ„æˆï¼Œå¯ä»¥ç”¨`a + bj`,æˆ–è€…`complex(a,b)`è¡¨ç¤ºï¼Œ å¤æ•°çš„å®éƒ¨aå’Œè™šéƒ¨béƒ½æ˜¯æµ®ç‚¹å‹ã€‚

## å¸ƒå°”å€¼

ä¸€ä¸ªå¸ƒå°”å€¼åªæœ‰`True`ã€`False`ä¸¤ç§å€¼ã€‚å¯ä»¥ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦ã€‚ç»å¸¸ç”¨åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ã€‚

## ç©ºå€¼

ç©ºå€¼æ˜¯Pythoné‡Œä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œç”¨`None`è¡¨ç¤ºã€‚

ç©ºå€¼ä½œä¸ºåˆ¤æ–­æ¡ä»¶æ—¶ï¼Œè§†ä¸º`False`ã€‚

## æ•°å­—ç±»å‹è½¬æ¢

* **int(x)** å°†xè½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°ã€‚
* **float(x)** å°†xè½¬æ¢åˆ°ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚
* **complex(x)** å°†xè½¬æ¢åˆ°ä¸€ä¸ªå¤æ•°ï¼Œå®æ•°éƒ¨åˆ†ä¸º xï¼Œè™šæ•°éƒ¨åˆ†ä¸º 0ã€‚
* **complex(x, y)** å°† x å’Œ y è½¬æ¢åˆ°ä¸€ä¸ªå¤æ•°ï¼Œå®æ•°éƒ¨åˆ†ä¸º xï¼Œè™šæ•°éƒ¨åˆ†ä¸º yã€‚x å’Œ y æ˜¯æ•°å­—è¡¨è¾¾å¼ã€‚

## æ•°å­¦å¸¸é‡

```python
>>> import math
>>> math.pi
3.141592653589793
>>> math.exp(1)
2.718281828459045
```

## è”åˆç±»å‹â€”â€”_union_

è”åˆå¯¹è±¡åŒ…å«äº†åœ¨å¤šä¸ª [ç±»å‹å¯¹è±¡](https://docs.python.org/zh-cn/3/library/stdtypes.html?highlight=%E8%81%94%E5%90%88#bltin-type-objects) ä¸Šæ‰§è¡Œ `|` (æŒ‰ä½æˆ–) è¿ç®—åçš„å€¼ã€‚ è¿™äº›ç±»å‹ä¸»è¦ç”¨äº [ç±»å‹æ ‡æ³¨](https://docs.python.org/zh-cn/3/glossary.html#term-annotation)ã€‚ä¸ [`typing.Union`](https://docs.python.org/zh-cn/3/library/typing.html#typing.Union) ç›¸æ¯”ï¼Œè”åˆç±»å‹è¡¨è¾¾å¼å¯ä»¥å®ç°æ›´ç®€æ´çš„ç±»å‹æç¤ºè¯­æ³•ã€‚

```python
def square(number: int | float) -> int | float:
    return number ** 2
```

