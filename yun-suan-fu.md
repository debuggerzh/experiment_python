# 🥲 运算符

## 算术运算符

### **除法相关**

在整数除法中，除法 **/** 总是返回一个浮点数，如果只想得到整数的结果，丢弃可能的分数部分，可以使用运算符 **//** ：

```
a // b == floor(a/b)
```

```python
>>> 17 / 3  # 整数除法返回浮点型
5.666666666666667
>>> 17 // 3  # 整数除法返回向下取整后的结果
5
>>> 17 % 3  # ％操作符返回除法的余数
2
```

{% hint style="info" %}
**//** 得到的并不一定是整数类型的数，它与分母分子的数据类型有关系。
{% endhint %}

```python
>>> 7//2
3
>>> 7.0//2
3.0
>>> 7//2.0
3.0
>>> 7.0//2.0
3.0
```

有浮点数参与整除运算时，结果的小数部分始终为0。

舍入始终向**商最小**的方向进行。

### **幂运算**

Python 可以使用 `**`操作来进行幂运算：

```
>>> 5 ** 2  # 5 的平方25
>>> 2 ** 7  # 2的7次方128
```

{% hint style="info" %}
幂运算**自右向左**计算。
{% endhint %}

## 关系/比较运算符

`== != > < >= <=`

```python
>>> 2 == 2.0
True
```

## 赋值运算符

{% hint style="info" %}
在Python中，赋值语句不会返回值。
{% endhint %}

### **复合/序列赋值**

**a, b = b, a+b**等价于

```
n=b
m=a+b
a=n
b=m
```

```python
>>> [a, b] = (1, 2)
>>> a,b
(1, 2)

>>> a,b,c='abc'
>>> a,b,c
('a', 'b', 'c')
```

### **序列赋值**

可以使用 \* 来作为通配符，代表余下的数据项。

_**一个序列赋给了带星号的名称， 该名称列表收集了值序列中没有赋值给其他变量的所有项。**_

```python
>>> a,*b='abcd'
>>> a,b
('a', ['b', 'c', 'd'])

>>> *a,b='abcd'
>>> a,b
(['a', 'b', 'c'], 'd')
```

### **海象运算符`:=`**

可在表达式内部为变量赋值。

在这个示例中，赋值表达式可以避免调用 `len()` 两次:

```python
if (n := len(a)) > 10:
    print(f"List is too long ({n} elements, expected <= 10)")
```

## 逻辑运算符

`and or not`

## 位运算符

`& | ^ ~ << >>`

## 成员运算符

`in 和not in`

特别的，in操作符可以用来判断子串。

```python
>>> 'hello' in 'hello world'
True
```

## 身份运算符

用于比较两个对象的存储单元，判断两个标识符是不是引用自一个对象。

* **x is y**, 类似 **id(x) == id(y)** , 如果引用的是同一个对象则返回 True，否则返回 False
* **x is not y** ， 类似 **id(a) != id(b)**。如果引用的不是同一个对象则返回结果 True，否则返回 False。

{% hint style="info" %}
id() 函数用于获取对象内存地址。
{% endhint %}

_**is 与 == 的区别：**_

_is 用于判断两个变量引用对象是否为同一个， == 用于判断引用变量的值是否相等。_

## 优先级

| **运算符**                     | **描述**                            |
| --------------------------- | --------------------------------- |
| \*\*                        | 指数 (最高优先级)                        |
| \~ + -                      | 按位翻转, 一元正号和负号 (最后两个的方法名为 +@ 和 -@) |
| \* / % //                   | 乘，除，求余数和取整除                       |
| + -                         | 加减法                               |
| >> <<                       | 右移，左移运算符                          |
| &                           | 位 'AND'                           |
| ^ \|                        | 位运算符                              |
| <= < > >=                   | 比较运算符                             |
| == !=                       | 等于运算符                             |
| = %= /= //= -= += \*= \*\*= | 赋值运算符                             |
| is ，is not                  | 身份运算符                             |
| in not in                   | 成员运算符                             |
| not and or                  | 逻辑运算符                             |

\
