---
description: ç”Ÿæˆå™¨çš„æ ¸å¿ƒ
---

# ğŸ˜ è¿­ä»£å™¨

è¿­ä»£æ˜¯Pythonæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œæ˜¯è®¿é—®é›†åˆå…ƒç´ çš„ä¸€ç§æ–¹å¼ã€‚è¿­ä»£å™¨æ˜¯ä¸€ä¸ªå¯ä»¥è®°ä½éå†çš„ä½ç½®çš„å¯¹è±¡ã€‚

è¿­ä»£å™¨å¯¹è±¡ä»é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹è®¿é—®ï¼Œç›´åˆ°æ‰€æœ‰çš„å…ƒç´ è¢«è®¿é—®å®Œç»“æŸã€‚è¿­ä»£å™¨åªèƒ½å¾€å‰ä¸ä¼šåé€€ã€‚ï¼ˆæ‹±å’ï¼‰

è¿­ä»£å™¨æœ‰ä¸¤ä¸ªåŸºæœ¬çš„æ–¹æ³•ï¼š**iter()** å’Œ **next()**ã€‚

## åˆ›å»ºè¿­ä»£å™¨

å¯è¿­ä»£å¯¹è±¡æŒ‡èƒ½å¤Ÿé€ä¸€è¿”å›å…¶æˆå‘˜é¡¹çš„å¯¹è±¡ã€‚ å¯è¿­ä»£å¯¹è±¡çš„ä¾‹å­åŒ…æ‹¬æ‰€æœ‰åºåˆ—ç±»å‹ (ä¾‹å¦‚ `list`, `str` å’Œ `tuple`) ä»¥åŠæŸäº›éåºåˆ—ç±»å‹ä¾‹å¦‚ `dict`, æ–‡ä»¶å¯¹è±¡ ä»¥åŠå®šä¹‰äº† **iter**() æ–¹æ³•æˆ–æ˜¯å®ç°äº†åºåˆ—è¯­ä¹‰çš„ **getitem**() æ–¹æ³•çš„ä»»æ„è‡ªå®šä¹‰ç±»å¯¹è±¡ã€‚

å­—ç¬¦ä¸²ï¼Œåˆ—è¡¨æˆ–å…ƒç»„å¯¹è±¡éƒ½å¯ç”¨äºåˆ›å»ºè¿­ä»£å™¨ã€‚

```python
iter(iterable)
next(iterator)
â€‹>>> list = [1,2,3,4]
>>> it = iter(list)    # åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡
>>> print (next(it))   # è¾“å‡ºè¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
1
>>> print (next(it))
2
```

æŠŠä¸€ä¸ªç±»ä½œä¸ºä¸€ä¸ªè¿­ä»£å™¨ä½¿ç”¨éœ€è¦åœ¨ç±»ä¸­å®ç°ä¸¤ä¸ªæ–¹æ³• `__iter__()` ä¸ `__next__()` ã€‚

`__iter__()` æ–¹æ³•è¿”å›`self`ï¼Œ è¿™ä¸ªè¿­ä»£å™¨å¯¹è±¡å®ç°äº† `__next__()` æ–¹æ³•å¹¶é€šè¿‡ `StopIterationå¼‚å¸¸` æ ‡è¯†è¿­ä»£çš„å®Œæˆã€‚

`__next__()` æ–¹æ³•ï¼ˆPython 2 é‡Œæ˜¯ next()ï¼‰ä¼šè¿”å›ä¸‹ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚

```python
class MyNumbers:
    def __iter__(self):        
        self.a = 1        
        return selfâ€‹    
    def __next__(self): 
        self.a += 1        
        return self.a   
 
myclass = MyNumbers()
myiter = iter(myclass)

print(next(myiter))
```

## StopIteration

`StopIteration`å¼‚å¸¸ç”¨äºæ ‡è¯†è¿­ä»£çš„å®Œæˆï¼Œé˜²æ­¢å‡ºç°æ— é™å¾ªç¯çš„æƒ…å†µï¼Œåœ¨ \_\_next\_\_() æ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥è®¾ç½®åœ¨å®ŒæˆæŒ‡å®šå¾ªç¯æ¬¡æ•°åè§¦å‘ `StopIteration`å¼‚å¸¸æ¥ç»“æŸè¿­ä»£ã€‚

## éå†

å¯ä»¥ä½¿ç”¨`for`è¯­å¥éå†è¿­ä»£å™¨ã€‚
